<!DOCTYPE html>
<html>
<head>
	<link rel = "stylesheet" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>

<body ng-app="app">
	<div ng-controller="PostsCtrl" class = "container">
		<h1> Recent Posts </h1>

		<input ng-model="postBody" class="form-control" placeholder="Type a post here..." />
		<button style="margin: 10px;"ng-click="addPost()" class="btn btn-default"> Add Post! </button>

		<ul class="list-group">
			<li ng-repeat="post in posts" class = "list-group-item">
				<strong>{{ '@' + post.username }}</strong>
				<span>{{ post.body }} </span>
			</li>
			
		</ul>

	</div>


	<script src = "https://code.angularjs.org/1.5.5/angular.js"></script>
	
	<script>
		var app = angular.module("app",[])

		app.controller('PostsCtrl', function ($scope) {
			$scope.posts = [
			{
				username: 'yomama',
				body: 'Node Rules!'
			},
			{
				username: 'god',
				body: 'trying to learn angular.js...'
			}
			]
			//called when button clicked
			$scope.addPost = function() {
				if($scope.postBody) { //makes sure there's text in the field
					$scope.posts.unshift({ //unshift is a JavaScript method on arrays that pushes a new element to the beginning of the array
						username: 'thepresident',
						body: $scope.postBody
					})
					$scope.postBody = null //clear input field afterwards
				}
			}
		})


		
	</script>

</body>
</html>